(this.webpackJsonpbuidltxn=this.webpackJsonpbuidltxn||[]).push([[1],{163:function(e,t,n){},182:function(e,t){},192:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=(n(163),n(29)),s=n(49),l=n(128),d=n(238),u=n(256),b=n(30),j=n(76),p=n(82),h=n(46),f=n(241),O=n(259),m=n(194),g=n(115),x="https://mainnet.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c",v="https://rinkeby.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c",y=new j.a({supportedChainIds:[1,4]}),w=new p.b({rpc:{1:x,4:v},qrcode:!0,pollingInterval:12e3}),C=new g.a({url:x,appName:"Buidltxn",supportedChainIds:[1,4]});var k=n(248),N=n(249),S=n(132),L=n(242),T=n(258),E=n(48),I=n(116),F=n.n(I),W=n(7),M=Object(d.a)((function(){return{icon:{height:"1rem",width:"1rem",borderRadius:"1.125rem",borderColor:"black"}}}));function z(e){var t=e.account,n=M(),r=Object(a.useRef)();return Object(a.useEffect)((function(){t&&r.current&&(r.current.innerHTML="",r.current.appendChild(F()(16,parseInt(t.slice(2,10),16))))}),[t]),Object(W.jsx)("div",{className:n.icon,ref:r})}var _=n(268),A=Object(d.a)((function(){return{modal:{padding:20},box:{display:"flex"},account:{paddingLeft:8},btn:{padding:0,marginLeft:20}}}));function H(e){var t=e.anchorEl,n=e.onClose,a=A(),r=Object(b.c)(),c=r.account,i=r.deactivate,o=r.connector,s=Boolean(t),l=function(){n&&n()};return Object(W.jsx)(_.a,{open:s,anchorEl:t,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(W.jsx)(f.a,{className:a.modal,children:Object(W.jsxs)(T.a,{className:a.box,children:[Object(W.jsx)(z,{account:c}),Object(W.jsx)(S.a,{className:a.account,children:c&&"".concat(c.slice(0,6),"...").concat(c.slice(c.length-4,c.length))}),Object(W.jsx)(L.a,{size:"small",className:a.btn,onClick:function(){i(),o.close&&o.close(),l()},children:"Disconnect"})]})})})}var R=n(129),B=n(24),V=n(262),D=n(246),G=n(244),q=n(243),J=n(245),U=n(121),P=n.n(U),K=n.p+"static/media/mm.ff38276e.png",Y=n.p+"static/media/wc.304e3277.svg",Z=n.p+"static/media/cw.a3a7d7fd.svg",Q={MetaMask:y,WalletConnect:w,"Coinbase Wallet":C},X={MetaMask:K,WalletConnect:Y,"Coinbase Wallet":Z},$=Object(d.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},btn:{minWidth:300,padding:16,justifyContent:"flex-start",textTransform:"none"},grow:{flexGrow:1},img:{width:"auto",maxWidth:26,maxHeight:24,margin:"0 auto"}}})),ee=r.a.forwardRef((function(e,t){return Object(W.jsx)(q.a,Object(B.a)({direction:"up",ref:t},e))})),te=function(e){var t=$(),n=e.children,a=e.onClose,r=Object(R.a)(e,["children","onClose"]);return Object(W.jsxs)(G.a,Object(B.a)(Object(B.a)({disableTypography:!0,className:t.root},r),{},{children:[Object(W.jsx)(S.a,{variant:"h6",children:n}),a?Object(W.jsx)(J.a,{"aria-label":"close",className:t.closeButton,onClick:a,children:Object(W.jsx)(P.a,{})}):null]}))};function ne(e){var t=e.isOpen,n=e.onClose,a=$(),r=Object(b.c)().activate,c=function(){n&&n()};return Object(W.jsxs)(V.a,{open:t,onClose:c,TransitionComponent:ee,maxWidth:"lg",keepMounted:!0,children:[Object(W.jsx)(te,{onClose:c,children:"Connect to a wallet"}),Object(W.jsx)(D.a,{children:Object.keys(Q).map((function(e){return Object(W.jsx)("div",{children:Object(W.jsxs)(L.a,{onClick:function(){r(Q[e])},className:a.btn,children:[Object(W.jsx)(S.a,{variant:"body1",children:e}),Object(W.jsx)("div",{className:a.grow}),Object(W.jsx)("img",{src:X[e],alt:e,className:a.img})]},e)})}))})]})}var ae={1:"https://api.etherscan.io/",3:"https://api-ropsten.etherscan.io/",4:"https://api-rinkeby.etherscan.io/",5:"https://api-goerli.etherscan.io/",42:"https://api-kovan.etherscan.io/"},re={1:"Mainnet",3:"Ropsten",4:"Rinkeby",5:"Goerli",42:"Kovan",100:"xDai",30:"Orchid",31:"OrchidTestnet",99:"Core",77:"Sokol",61:"Classic",8:"Ubiq",108:"Thundercore",18:"ThundercoreTestnet",163:"Lightstreams",122:"Fuse",15001:"MaticTestnet"},ce=Object(d.a)((function(e){return{box_net:{display:"flex",alignItems:"center",background:e.palette.action.selected,borderRadius:6,padding:8,marginRight:8,color:e.palette.text.primary},box_acc:{display:"flex",alignItems:"center",background:e.palette.action.selected,borderRadius:6,paddingLeft:8},info_btn:{margin:"2px 2px 2px 6px",background:e.palette.action.disabled,color:e.palette.text.primary,textTransform:"none"},info_btn_text:{paddingRight:6},connect_btn:{background:e.palette.action.active,color:e.palette.text.primary}}}));function ie(){var e=ce(),t=Object(b.c)(),n=t.account,a=t.library,c=t.chainId,i=r.a.useState(),s=Object(o.a)(i,2),l=s[0],d=s[1],u=r.a.useState(null),j=Object(o.a)(u,2),p=j[0],h=j[1],f=r.a.useState(),O=Object(o.a)(f,2),m=O[0],g=O[1];return r.a.useEffect((function(){if(n&&a){var e=!1;return a.getBalance(n).then((function(t){e||d(t)})).catch((function(){e||d(null)})),function(){e=!0,d(void 0)}}}),[n,a,c]),n?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(T.a,{className:e.box_net,children:Object(W.jsx)(S.a,{children:re[c]||c})}),Object(W.jsxs)(T.a,{className:e.box_acc,children:[l&&parseFloat(Object(E.b)(l)).toFixed(3)," ETH",Object(W.jsxs)(L.a,{className:e.info_btn,onClick:function(e){return h(e.currentTarget)},children:[Object(W.jsx)(S.a,{className:e.info_btn_text,children:n&&"".concat(n.slice(0,6),"...").concat(n.slice(n.length-4,n.length))}),Object(W.jsx)(z,{account:n})]}),Object(W.jsx)(H,{anchorEl:p,onClose:function(){return h(null)}})]})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(L.a,{className:e.connect_btn,onClick:function(){return g(!0)},color:"secondary",children:"Connect to a wallet"}),Object(W.jsx)(ne,{isOpen:m,onClose:function(){return g(!1)}})]})}var oe=Object(d.a)((function(e){return{header:{background:"transparent",boxShadow:"none"},logo:{maxWidth:32,paddingRight:8},title:Object(s.a)({fontSize:"1rem"},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),grow:{flexGrow:1,paddingLeft:30}}}));function se(e){e.changeMode;var t=oe();return Object(W.jsx)("header",{children:Object(W.jsx)(k.a,{position:"fixed",className:t.header,children:Object(W.jsxs)(N.a,{children:[Object(W.jsx)("img",{src:"logo.png",alt:"logo",className:t.logo}),Object(W.jsx)(S.a,{className:t.title,variant:"h5",noWrap:!0,children:"Buidltxn"}),Object(W.jsx)("div",{className:t.grow}),Object(W.jsx)(ie,{})]})})})}var le=n(56),de=n(4),ue=n.n(de),be=n(58),je=n(251),pe=n(257),he=n(253),fe=n(265),Oe=n(254),me=n(124),ge=n.n(me),xe=n(126),ve=n.n(xe),ye=n(125),we=n.n(ye),Ce=n(263),ke=n(252),Ne=n(261),Se=n(264),Le=n(266),Te=Object(d.a)((function(){return{inputForm:{marginTop:10}}}));function Ee(e){var t=e.abi,n=e.onUpdate,r=Te(),c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)({selector:"",params:[]}),u=Object(o.a)(d,2),b=u[0],j=u[1];Object(a.useEffect)((function(){var e=new h.a.utils.Interface(t);l(Object.values(e.functions).filter((function(e){return!e.constant})).map((function(t){var n="".concat(t.name,"(").concat(t.inputs.map((function(e){return"".concat(e.type)})).join(","),")"),a=e.getSighash(n);return Object(B.a)(Object(B.a)({},t),{},{uniqueName:n,sigHash:a})})))}),[t]);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(pe.a,{label:"Function",size:"small",variant:"outlined",defaultValue:b.selector,onChange:function(e){j({selector:e.target.value,params:[]}),n&&n({selector:e.target.value,params:[],error:void 0,result:void 0})},fullWidth:!0,select:!0,children:s.map((function(e){return Object(W.jsxs)(Le.a,{value:e.uniqueName,children:[e.uniqueName," - ",e.sigHash]})}))}),b.selector&&function(e){var t=s.find((function(t){return t.uniqueName===e}));return Object(W.jsx)(W.Fragment,{children:t.inputs.length>0&&t.inputs.map((function(e,a){return Object(W.jsx)(je.a,{className:r.inputForm,children:Object(W.jsx)(pe.a,{label:"".concat(e.name," (").concat(e.type,")"),variant:"outlined",size:"small",color:"primary",defaultValue:b.params[a],value:b.params[a],placeholder:e.type,fullWidth:!0,onChange:function(e){var t=b.selector,r=b.params;r[a]=e.target.value,j(Object(B.a)(Object(B.a)({},b),{},{params:r})),n&&n({selector:t,params:r,error:void 0,result:void 0})}})},"".concat(t.sigHash,"_").concat(a))}))})}(b.selector)]})}var Ie=Object(d.a)((function(e){return{stepper:{padding:0},form:Object(s.a)({display:"flex"},e.breakpoints.down("sm"),{minWidth:"initial"}),grow:{flexGrow:1},label:{marginTop:4,marginLeft:8},divider:{marginTop:14,marginBottom:14},abi_loading:{marginLeft:8},alert:{marginTop:8},btn:{marginRight:8}}}));function Fe(e){e.mode;var t=Ie(),n=Object(b.c)(),r=n.library,c=n.chainId,i=n.active,s=Object(a.useState)({value:"",isValid:!0,isLoading:!1,isDisabled:!1,type:void 0}),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)({abi:void 0,error:void 0,isLoading:!1}),p=Object(o.a)(j,2),f=p[0],m=p[1],g=Object(a.useState)({selector:void 0,params:[],error:void 0,result:void 0}),x=Object(o.a)(g,2),v=x[0],y=x[1],w=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ae[c])||m({abi:void 0,error:"Etherscan does not support the network",isLoading:!1}),e.next=4,fetch("".concat(n,"api?module=contract&action=getabi&address=").concat(t,"&apikey=CW1N8TD93FUZMTI46EWNV7K6TRJS7C9HU2")).then((function(e){return e.json()})).then((function(e){var t=e.message,n=e.result;m("NOTOK"===t?{abi:void 0,error:n,isLoading:!1}:{abi:JSON.parse(n),error:void 0,isLoading:!1})})).catch((function(e){m({abi:void 0,error:e,isLoading:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.Contract(d.value,f.abi,r.getSigner()),e.prev=1,e.next=4,(n=t.callStatic)[v.selector].apply(n,Object(le.a)(v.params));case 4:a=e.sent,y(Object(B.a)(Object(B.a)({},v),{},{error:void 0,result:JSON.stringify(a)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(Object(B.a)(Object(B.a)({},v),{},{error:e.t0,result:void 0}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.Contract(d.value,f.abi,r.getSigner()),e.prev=1,e.next=4,(n=t.estimateGas)[v.selector].apply(n,Object(le.a)(v.params));case 4:a=e.sent,y(Object(B.a)(Object(B.a)({},v),{},{error:void 0,result:a.toString()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(Object(B.a)(Object(B.a)({},v),{},{error:e.t0,result:void 0}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(be.a)(ue.a.mark((function e(){var t,n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.Contract(d.value,f.abi,r.getSigner()),e.prev=1,e.next=4,(n=t.functions)[v.selector].apply(n,Object(le.a)(v.params));case 4:a=e.sent,y(Object(B.a)(Object(B.a)({},v),{},{error:void 0,result:a.toString()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(Object(B.a)(Object(B.a)({},v),{},{error:e.t0,result:void 0}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(Ce.a,{orientation:"vertical",className:t.stepper,children:[Object(W.jsxs)(ke.a,{expanded:!0,completed:"Contract"===d.type,children:[Object(W.jsx)(Ne.a,{children:"Contract"}),Object(W.jsxs)(Se.a,{children:[Object(W.jsxs)(je.a,{className:t.form,children:[Object(W.jsx)(pe.a,{label:"Address",variant:"outlined",size:"small",color:"primary",className:t.grow,fullWidth:!0,disabled:d.isDisabled||!i,defaultValue:d.value,error:!d.isValid,onChange:function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,!h.a.utils.isAddress(n)){e.next=13;break}return u({value:n,isValid:!0,isLoading:!0,isDisabled:!1,type:void 0}),e.next=5,r.getCode(n);case 5:if(a=e.sent,u({value:n,isValid:!0,isLoading:!1,isDisabled:"0x"!==a,type:"0x"!==a?"Contract":"EOA"}),"0x"===a){e.next=11;break}return m({abi:void 0,isLoading:!0}),e.next=11,w(n);case 11:e.next=14;break;case 13:u({value:n,isValid:!1,isLoading:!1,isDisabled:!1,type:void 0});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),helperText:d.isValid?"":"Incorrect address"}),d.isLoading&&Object(W.jsx)(he.a,{color:"inherit",size:18,thickness:5}),d.type&&Object(W.jsx)(fe.a,{variant:"outlined",color:"secondary",label:d.type,className:t.label})]}),"EOA"===d.type&&Object(W.jsx)(O.a,{severity:"warning",className:t.alert,children:"Externally Owned Account(EOA) not supported yet"}),"Contract"===d.type&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Oe.a,{className:t.divider}),f.isLoading?Object(W.jsxs)(je.a,{className:t.form,children:[Object(W.jsx)(he.a,{color:"inherit",size:18,thickness:5}),Object(W.jsx)(S.a,{className:t.abi_loading,children:"Loading ABI from Etherscan"})]}):Object(W.jsxs)(W.Fragment,{children:[f.error&&Object(W.jsx)(O.a,{severity:"error",children:f.error}),f.abi&&Object(W.jsx)(pe.a,{label:"ABI",variant:"outlined",color:"primary",defaultValue:JSON.stringify(f.abi,null," "),disabled:!0,multiline:!0,fullWidth:!0,maxRows:5})]})]})]})]}),Object(W.jsxs)(ke.a,{expanded:f.abi,children:[Object(W.jsx)(Ne.a,{children:"Transaction"}),Object(W.jsx)(Se.a,{children:f.abi&&Object(W.jsx)(Ee,{abi:f.abi,onUpdate:function(e){y(e)}})})]}),Object(W.jsxs)(ke.a,{expanded:v.selector,children:[Object(W.jsx)(Ne.a,{children:"Actions"}),Object(W.jsxs)(Se.a,{children:[Object(W.jsx)(L.a,{color:"primary",variant:"contained",className:t.btn,startIcon:Object(W.jsx)(ge.a,{}),onClick:C,disabled:!i,children:"Call"}),Object(W.jsx)(L.a,{color:"primary",variant:"contained",className:t.btn,startIcon:Object(W.jsx)(we.a,{}),onClick:k,disabled:!i,children:"Estimate"}),Object(W.jsx)(L.a,{color:"primary",variant:"contained",className:t.btn,startIcon:Object(W.jsx)(ve.a,{}),onClick:N,disabled:!i,children:"Send"}),v.error&&Object(W.jsx)(O.a,{severity:"error",className:t.alert,children:v.error.message}),v.result&&Object(W.jsxs)(O.a,{severity:"info",className:t.alert,children:["Result: ",v.result]})]})]})]})})}var We=n(255),Me=n(127),ze=n.n(Me),_e=Object(d.a)((function(){return{footer:{alignItems:"center",background:"transparent",boxShadow:"none"}}}));function Ae(){var e=_e();return Object(W.jsxs)(k.a,{position:"static",className:e.footer,children:[Object(W.jsx)(S.a,{variant:"body1",children:"Sometimes transactions are difficult, Buidltxn aims to help building transactions."}),Object(W.jsx)(N.a,{children:Object(W.jsx)(We.a,{href:"//github.com/aquiladev/buidltxn",target:"_blank",rel:"noopener",children:Object(W.jsx)(J.a,{color:"default","aria-label":"GitHub repo",component:"span",children:Object(W.jsx)(ze.a,{fontSize:"default"})})})})]})}var He=Object(l.a)({palette:{primary:{main:"#c0c0c0"}},overrides:{MuiFilledInput:{input:{paddingTop:"13px"}},MuiDialogActions:{root:{display:"block"}},MuiAlert:{message:{width:"100%",overflow:"scroll"}}}}),Re=Object(d.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",minHeight:"100%"},content:{paddingTop:e.spacing(16),paddingBottom:e.spacing(8),minHeight:100},paper:{padding:e.spacing(3)},title:Object(s.a)({fontSize:"1rem"},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),grow:{flexGrow:1,paddingLeft:30}}}));function Be(e){return console.error(e),e instanceof j.b?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof b.a?"You're connected to an unsupported network.":e instanceof j.c||e instanceof p.a?"Please authorize this website to access your Ethereum account.":"An unknown error occurred. Check the console for more details."}function Ve(e){return new h.a.providers.Web3Provider(e)}function De(){var e=Re(),t=Object(b.c)(),n=t.connector,r=t.error,c=Object(a.useState)(),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)("basic"),j=Object(o.a)(d,2),p=j[0],h=j[1];return Object(a.useEffect)((function(){s&&s===n&&l(void 0)}),[s,n]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(b.c)(),n=t.active,r=t.error,c=t.activate;Object(a.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!r&&!e){var a=function(){console.log("Handling 'connect' event"),c(y)},i=function(e){console.log("Handling 'chainChanged' event with payload",e),c(y)},o=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&c(y)},s=function(e){console.log("Handling 'networkChanged' event with payload",e),c(y)};return t.on("connect",a),t.on("chainChanged",i),t.on("accountsChanged",o),t.on("networkChanged",s),function(){t.removeListener&&(t.removeListener("connect",a),t.removeListener("chainChanged",i),t.removeListener("accountsChanged",o),t.removeListener("networkChanged",s))}}}),[n,r,e,c])}(!function(){var e=Object(b.c)(),t=e.activate,n=e.active,r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){y.isAuthorized().then((function(e){e?t(y,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[]),Object(a.useEffect)((function(){!i&&n&&s(!0)}),[i,n]),i}()||!!s),Object(W.jsx)(u.a,{theme:He,children:Object(W.jsxs)("div",{className:e.root,children:[Object(W.jsx)(se,{changeMode:h}),Object(W.jsxs)(f.a,{maxWidth:"basic"===p?"sm":"md",className:e.content,children:[!!r&&Object(W.jsx)(O.a,{variant:"filled",severity:"error",style:{position:"fixed",zIndex:1200,bottom:10,left:10},children:Be(r)}),Object(W.jsx)(m.a,{elevation:3,className:e.paper,children:Object(W.jsx)(Fe,{mode:p})})]}),Object(W.jsx)(Ae,{})]})})}var Ge=function(){return Object(W.jsx)(b.b,{getLibrary:Ve,children:Object(W.jsx)(De,{})})},qe=function(){return Object(W.jsx)(Ge,{})},Je=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,859)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(qe,{})}),document.getElementById("root")),Je()}},[[192,2,5]]]);
//# sourceMappingURL=main.7cdcf117.chunk.js.map